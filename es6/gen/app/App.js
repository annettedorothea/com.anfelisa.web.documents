/********************************************************************************
 * generated by de.acegen 1.3.0
 ********************************************************************************/





import * as AppUtils from "../../src/app/AppUtils";
import * as AppState from "../ace/AppState";
import * as ACEController from "../ace/ACEController";

export * from "../ace/Timeline";

export function dumpAppState() {
    console.info(AppState.getAppState());
}

AppUtils.createInitialAppState();
ACEController.addItemToTimeLine({
	appState: AppState.getAppState()
});
AppUtils.initEventListeners();
AppUtils.startApp();
AppUtils.renderApp();

// for Selenium tests
export function getAppState() {
    return AppState.getAppState();
}

export function addSquishyValueClient(value) {
    let squishyValues = JSON.parse(localStorage.getItem('squishyValues'));
    if (!squishyValues) {
        squishyValues = [];
    }
    squishyValues.push(value);
    localStorage.setItem('squishyValues', JSON.stringify(squishyValues));
}

export function addSquishyValueServer(uuid, key, value) {
    return new Promise((resolve, reject) => {
        let url = "";
        if (key === "system-time") {
            url =`/api/test/squishy/system-time?uuid=${uuid}&system-time=${value}`;
        } else {
            url =`/api/test/squishy/value?uuid=${uuid}&key=${key}&value=${value}`
        }
        return new Promise((resolve, reject) => {
            AppUtils.httpPut(url).then(() => {
                resolve();
            }, (error) => {
                reject(error);
            });
        });
    })
}

export async function getValueFromLocalStorage(key) {
    return localStorage.getItem(key);
}




/******* S.D.G. *******/




