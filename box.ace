HttpClient

box

ACE 
	InitBoxesForDay
		call com.anfelisa.box.InitMyBoxesForDay
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (LoadBoxes) 
				
	LoadBoxes 
		call com.anfelisa.box.GetBoxes
		loadingFlag common.rootContainer.spinner.display 
		on ok ( 
			set common.rootContainer.mainView.dashboardView
		) triggers (LoadBoxStatistics)
	
	LoadBoxStatistics 
		fromAppState ( common.rootContainer.mainView.dashboardView.boxList )
		call com.anfelisa.box.GetBoxStatistics
		loadingFlag common.rootContainer.spinner.display 
		on ok ( 
			set common.rootContainer.mainView.dashboardView.boxList
		)
	
	LoadActiveCards
		fromAppState (common.rootContainer.mainView.allActiveCardsView.boxId)
		call com.anfelisa.box.LoadAllActiveCards
		loadingFlag common.rootContainer.spinner.display 
		on ok ( 
			set common.rootContainer.mainView.allActiveCardsView.activeCardList
			set common.rootContainer.mainView.allActiveCardsView.selectedCardIds
			set common.rootContainer.mainView.allActiveCardsView.editable
		)
	
	ToggleScheduleCardSelection ( cardId )
		fromAppState (common.rootContainer.mainView.allActiveCardsView.selectedCardIds)
		on ok (set common.rootContainer.mainView.allActiveCardsView.selectedCardIds)
	
	ToggleAllScheduleCardSelection 
		fromAppState (
			common.rootContainer.mainView.allActiveCardsView.selectedCardIds,
			common.rootContainer.mainView.allActiveCardsView.activeCardList
		)
		on ok (set common.rootContainer.mainView.allActiveCardsView.selectedCardIds)
	
	ScheduleSelectedCards
		fromAppState (
			common.rootContainer.mainView.allActiveCardsView.selectedCardIds as cardIds,
			common.rootContainer.mainView.allActiveCardsView.boxId
		) 
	 	call com.anfelisa.box.ScheduleCards
		loadingFlag common.rootContainer.spinner.display 
		on noFilter triggers (LoadActiveCards)
	
	SortSelectedCardsOut 
		fromAppState (
			common.rootContainer.mainView.allActiveCardsView.selectedCardIds as cardIds,
			common.rootContainer.mainView.allActiveCardsView.boxId
		) 
	 	call com.anfelisa.box.SortCardsOut
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (LoadActiveCards)
		
	UpdateCardPriority(cardId, priority, actualPriority)
	 	call com.anfelisa.card.UpdateCardPriority
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (LoadActiveCards)

	DeleteBoxClick ( boxId )
		on ok (set common.rootContainer.mainView.dashboardView.deleteBox)
	
	CancelDeleteBox 
		on ok (
			set common.rootContainer.mainView.dashboardView.deleteBox.boxId
			set common.rootContainer.mainView.dashboardView.deleteBox.confirmDelete
		)
	
	DeleteBox
		fromAppState ( common.rootContainer.mainView.dashboardView.deleteBox.boxId )
		call com.anfelisa.box.DeleteBox
		loadingFlag common.rootContainer.spinner.display 
		on ok (
			set common.rootContainer.mainView.dashboardView.deleteBox.boxId
			set common.rootContainer.mainView.dashboardView.deleteBox.confirmDelete
		) triggers (LoadBoxes)
		on error (
			set common.rootContainer.mainView.dashboardView.deleteBox.boxId
			set common.rootContainer.mainView.dashboardView.deleteBox.confirmDelete
		) triggers (common.DisplayToast)
	
	LoadNextCard
		fromAppState (common.rootContainer.mainView.queryCardView.boxId)
	 	call com.anfelisa.box.LoadNextCard
		loadingFlag common.rootContainer.spinner.display 
		on ok (
			merge common.rootContainer.mainView.queryCardView
		)
		on finished triggers (
			common.Route 
			common.DisplayToast
		)
	
	DisplayWanted ( wantedItemsLength )
		fromAppState ( common.rootContainer.mainView.queryCardView.index)
		on ok (
			merge common.rootContainer.mainView.queryCardView
		)
	
	ScoreCard ( scoredCardQuality )
		fromAppState ( common.rootContainer.mainView.queryCardView.scheduledCardId )
	 	call com.anfelisa.box.ScoreCard
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (InitBoxesForDayDuringScore)
	
	ScoreReinforceCard ( keep )
		fromAppState (common.rootContainer.mainView.queryCardView.reinforceCardId)
	 	call com.anfelisa.box.ScoreReinforceCard
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (InitBoxesForDayDuringScore)

	SortCardOut
		fromAppState (
			common.rootContainer.mainView.queryCardView.cardId, 
			common.rootContainer.mainView.queryCardView.boxId
		)
	 	call com.anfelisa.box.SortCardsOut
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (InitBoxesForDayDuringScore)

	InitBoxesForDayDuringScore
		call com.anfelisa.box.InitMyBoxesForDay
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (LoadNextCard) 
				
	LoadSettings
		fromAppState (common.rootContainer.mainView.boxSettingsView.boxId)
	 	call com.anfelisa.box.GetBoxSettings
		loadingFlag common.rootContainer.spinner.display 
		on ok (	merge common.rootContainer.mainView.boxSettingsView )
			triggers (TooManyCardsStatus)
		
	SaveBoxSettings
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.boxId,
			common.rootContainer.mainView.boxSettingsView.maxInterval,
			common.rootContainer.mainView.boxSettingsView.maxCardsPerDay,
			common.rootContainer.mainView.boxSettingsView.categoryId,
			common.rootContainer.mainView.boxSettingsView.categoryName,
			common.rootContainer.mainView.boxSettingsView.dictionaryLookup,
			common.rootContainer.mainView.boxSettingsView.givenLanguage,
			common.rootContainer.mainView.boxSettingsView.wantedLanguage
		)
	 	call com.anfelisa.box.UpdateBox
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (common.Route)
	

	MaxCardsPerDayChanged ( maxCardsPerDay )
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.maxInterval,
			common.rootContainer.mainView.boxSettingsView.allActiveCards
		)
		on ok (
			set common.rootContainer.mainView.boxSettingsView.maxCardsPerDay
			set common.rootContainer.mainView.boxSettingsView.maxCardsPerDayInvalid
		) triggers (TooManyCardsStatus)
		
	MaxIntervalChanged ( maxInterval )
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.maxCardsPerDay,
			common.rootContainer.mainView.boxSettingsView.allActiveCards
		)
		on ok (
			set common.rootContainer.mainView.boxSettingsView.maxInterval
			set common.rootContainer.mainView.boxSettingsView.maxIntervalInvalid
		) triggers (TooManyCardsStatus)
		
	TooManyCardsStatus
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.maxCardsPerDay,
			common.rootContainer.mainView.boxSettingsView.maxInterval,
			common.rootContainer.mainView.boxSettingsView.allActiveCards
		)
		on ok (set common.rootContainer.mainView.boxSettingsView.tooManyCardsStatus)

	CreateRootCategory
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.maxInterval,
			common.rootContainer.mainView.boxSettingsView.maxCardsPerDay,
			common.rootContainer.mainView.boxSettingsView.categoryId,
			common.rootContainer.mainView.boxSettingsView.categoryName,
			common.rootContainer.mainView.boxSettingsView.dictionaryLookup,
			common.rootContainer.mainView.boxSettingsView.givenLanguage,
			common.rootContainer.mainView.boxSettingsView.wantedLanguage
		)
		call com.anfelisa.box.CreateBox
		loadingFlag common.rootContainer.spinner.display 
		on ok triggers (common.Route)
	
	CategoryNameChanged ( categoryName )
		on ok (
			set common.rootContainer.mainView.boxSettingsView.categoryName
		)
		
	DictionaryLookupChanged
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.givenLanguage,
			common.rootContainer.mainView.boxSettingsView.wantedLanguage,
			common.rootContainer.mainView.boxSettingsView.dictionaryLookup
		)
		on ok (
			set common.rootContainer.mainView.boxSettingsView.dictionaryLookup
			set common.rootContainer.mainView.boxSettingsView.dictionaryLookupInvalid
		)
		
	GivenLanguageChanged ( givenLanguage )
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.wantedLanguage,
			common.rootContainer.mainView.boxSettingsView.dictionaryLookup
		)
		on ok (
			set common.rootContainer.mainView.boxSettingsView.givenLanguage
			set common.rootContainer.mainView.boxSettingsView.dictionaryLookupInvalid
		)
		
	WantedLanguageChanged ( wantedLanguage )
		fromAppState (
			common.rootContainer.mainView.boxSettingsView.givenLanguage,
			common.rootContainer.mainView.boxSettingsView.dictionaryLookup
		)
		on ok (
			set common.rootContainer.mainView.boxSettingsView.wantedLanguage
			set common.rootContainer.mainView.boxSettingsView.dictionaryLookupInvalid
		)
		
	RootCategoryNameChanged ( categoryName )
		on ok (
			set common.rootContainer.mainView.boxSettingsView.categoryName
		)
		
		
		

	
